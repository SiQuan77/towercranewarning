<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.thymeleaf.org/thymeleaf-extras-shiro">

<!--需要导入两个命名空间！-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>大屏展示页面</title>
        <link rel="stylesheet" th:href="@{/vendor/simple-line-icons/css/simple-line-icons.css}">
        <link rel="stylesheet" th:href="@{/vendor/font-awesome/css/fontawesome-all.min.css}">
        <link rel="stylesheet" th:href="@{/css/styles.css}">
        <script th:src="@{/js/jquery-3.3.1.js}"></script>
        <script th:src="@{/js/jquery.cookie.js}"></script>
        <script th:src="@{/vendor/popper.js/popper.min.js}"></script>
        <script th:src="@{/vendor/bootstrap/js/bootstrap.min.js}"></script>
        <script th:src="@{/js/carbon.js}"></script>
        <script th:src="@{/js/echarts1.js}"></script>
</head>
<body class="sidebar-fixed header-fixed">
<div class="page-wrapper">

    <div th:replace="~{commons/commons::header_navbar(source='big_show')}"></div>
<!--    thymeleaf进行一个传参操作-->


    <div class="main-container">
        <div th:replace="~{commons/commons::side_navbar(source='big_show')}"></div>

        <div class="content">
            <div class="container-fluid">
                <div class="row">

                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header">
                                <h1>项目概况</h1>
                            </div>
                            <div class="card-body">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h2>项目名称：   翻斗花园A地块建设项目一标段</h2></br>
                                            <h2>项目位置：   成都</h2></br>
                                            <h2>施工单位：   成都伟伟建造有限公司</h2></br>
                                            <h2>开工时间：   2020/11/02</h2></br>
                                            <h2>预计完工时间：2021/11/02</h2></br>
                                        </div>
                                        <div class="col-md-6">
                                            <h3>项目预览图：</h3>
                                            <img th:src="@{/imgs/project_img.jpg}" style="height: 350px;width: 650px">
                                            <h3>施工进度：<div id="progress_jindu" style="width: 400px;height: 100px"></div></h3>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>


                    <div class="col-md-6">
                        <div class="card p-5">
                            <div class="card-body d-flex justify-content-between align-items-t">
                                <div id="alert_classified" style="width: 700px;height: 350px"></div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-6">
                        <div class="card p-4">
                            <div class="card-body d-flex justify-content-between align-items-center">
                                <div id="alert_type_fenlei" style="width: 400px;height: 400px"></div>
                                <div id="equipdriver_type_fenlei" style="width: 400px;height: 400px"></div>
                            </div>
                        </div>
                    </div>




                </div>



            </div>
        </div>
    </div>
</div>
</div>
</body>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('alert_classified'));

    // 指定图表的配置项和数据
    var option = {
        title: {
            text: '故障比例'
        },
        tooltip: {},
        legend: {
            data:['塔机','升降机']
        },
        xAxis: {
            data: ["超重","力矩预警","上限位预警","倾斜预警","上锁预警"]
        },
        yAxis: {
            type:'value',
            axisLabel:{
                formatter:'{value}(次)'
            }
        },
        series: [{
            name: '塔机',
            type: 'bar',
            data: [1, 3, 0, 0, 0]
        },
            {
                name: '升降机',
                type: 'bar',
                data: [0, 0, 2, 4, 2]
            }]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);


    var mychart2=echarts.init(document.getElementById('alert_type_fenlei'));

    var option2 = {
        title: {
          text: '故障主体比例'
        },
        tooltip: {
            trigger: 'item'
        },
        legend: {
            top: '5%',
            left: 'center'
        },
        series: [
            {
                name: '故障主体',
                type: 'pie',
                radius: ['40%', '70%'],
                avoidLabelOverlap: false,
                itemStyle: {
                    borderRadius: 10,
                    borderColor: '#fff',
                    borderWidth: 2
                },
                label: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    label: {
                        show: true,
                        fontSize: '40',
                        fontWeight: 'bold'
                    }
                },
                labelLine: {
                    show: false
                },
                data: [
                    {value: 5, name: '塔机'},
                    {value: 2, name: '升降机'},
                ]
            }
        ]
    };

    mychart2.setOption(option2)

    var myChart3               = echarts.init(document.getElementById('progress_jindu'));
    var option3                = {
        grid                : {
            left            : '5%',
            top             : '0',
            right           : '0',
            bottom          : '0',
            containLabel    : true,
            width           : '100%'
        },
        xAxis               : {
            type            : 'value',
            splitLine       : {show: false},
            axisLabel       : {show: false},
            axisTick        : {show: false},
            axisLine        : {show: false},
        },
        yAxis               : {
            type            : 'category',
            axisTick        : {show: false},
            axisLine        : {show: false},
            axisLabel       : {
                color       : 'black',
                fontSize    : 17
            },
        },
        series              : [
            {
                name        : '/'+365,
                type        : 'bar',
                barWidth    : 18,
                data        : [212],
                label       : {
                    show        : true,
                    //position    : 'middle',
                    offset      : [20,2],
                    formatter   : '{c}{a}',
                    color       : '#fff',
                    fontSize    : 15
                },
                itemStyle       : {
                    color: new echarts.graphic.LinearGradient(
                        1, 0, 0, 0,
                        [
                            {offset: 0, color: '#A4DF4E'},                   //柱图渐变色
                            // {offset: 0.5, color: '#44C0C1'},                 //柱图渐变色
                            {offset: 1, color: '#5DC69D'},                   //柱图渐变色
                        ]
                    ),
                    barBorderRadius: 9,
                },
                zlevel                    : 1
            },
            {
                name                      : '进度条背景',
                type                      : 'bar',
                barGap                    : '-100%',
                barWidth                  : 18,
                data                      : [365],
                color                     : '#DCDCDC',//柱条颜色
                itemStyle                 : {
                    normal                : {
                        barBorderRadius: 9,
                        borderColor: '#FEFEFE',
                    }
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart3.setOption(option3);


    var mychart4=echarts.init(document.getElementById('equipdriver_type_fenlei'));

    var option4 = {
        title: {
            text: '施工设备、人员一览'
        },
        tooltip: {
            trigger: 'item'
        },
        legend: {
            top: '5%',
            left: 'center'
        },
        series: [
            {
                name: '主体数量',
                type: 'pie',
                radius: ['40%', '70%'],
                avoidLabelOverlap: false,
                itemStyle: {
                    borderRadius: 10,
                    borderColor: '#fff',
                    borderWidth: 2
                },
                label: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    label: {
                        show: true,
                        fontSize: '40',
                        fontWeight: 'bold'
                    }
                },
                labelLine: {
                    show: false
                },
                data: [
                    {value: 2, name: '塔机'},
                    {value: 1, name: '升降机'},
                    {value: 2,name:'操作员'}
                ]
            }
        ]
    };
    mychart4.setOption(option4)




</script>

</html>
